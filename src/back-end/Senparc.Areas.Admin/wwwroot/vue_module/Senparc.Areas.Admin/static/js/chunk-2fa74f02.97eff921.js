(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fa74f02"],{"478b":function(t,a,e){"use strict";e("de0a")},"50c7":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"el-main"},[e("div",{staticClass:"admin-systemconfig-info"},[e("h2",{staticClass:"system-info"},[t._v("基础信息")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{align:"center",label:"系统名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.systemName)+" ")]}}])}),e("el-table-column",{attrs:{align:"center",label:"模块发布模式"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.hideModuleManager)+" ")]}}])}),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleEdit(a.$index,a.row)}}},[t._v("编辑")])]}}])})],1),e("el-dialog",{attrs:{title:t.dialog.title,visible:t.dialog.visible,"close-on-click-modal":!1},on:{"update:visible":function(a){return t.$set(t.dialog,"visible",a)}}},[e("el-form",{ref:"dataForm",staticStyle:{"max-width":"400px","margin-left":"50px"},attrs:{rules:t.dialog.rules,model:t.dialog.data,"label-position":"left","label-width":"100px"}},[e("el-form-item",{attrs:{label:"系统名称",prop:"systemName"}},[e("el-input",{attrs:{clearable:"",placeholder:"请输入系统名称"},model:{value:t.dialog.data.systemName,callback:function(a){t.$set(t.dialog.data,"systemName",a)},expression:"dialog.data.systemName"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialog.visible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{loading:t.dialog.updateLoading,type:"primary"},on:{click:t.updateData}},[t._v("确 认")])],1)],1)],1)])},s=[],l=(e("99af"),{name:"Index",data:function(){return{paginationQuery:{total:5},listQuery:{pageIndex:1,pageSize:20},tableData:[],tenantData:{},dialog:{title:"编辑系统信息",visible:!1,data:{id:0,systemName:""},rules:{systemName:[{required:!0,message:"用户名为必填项",trigger:"blur"}]}},updateLoading:!1,updateLoadingSet:!1}},computed:{},watch:{"dialog.visible":function(t,a){t||(this.dialog.data={id:0,systemName:""},this.dialog.updateLoading=!1,this.$refs["dataForm"].resetFields())}},created:function(){this.getList()},methods:{getList:function(){var t=this,a=this.listQuery,e=a.pageIndex,i=a.pageSize;service.get("/Admin/SystemConfig/index?handler=List&&pageIndex=".concat(e,"&pageSize=").concat(i)).then((function(a){t.tableData=a.data.data.list,t.paginationQuery.total=a.data.data.totalCount}))},handleEdit:function(t,a){if(this.dialog.visible=!0,a){var e=a.systemName,i=a.id;this.dialog.data={systemName:e,id:i},this.dialog=Object.assign({},this.dialog)}},updateData:function(){var t=this;this.$refs["dataForm"].validate((function(a){if(a){t.dialog.updateLoading=!0;var e={Id:t.dialog.data.id,SystemName:t.dialog.data.systemName};service.post("/Admin/SystemConfig/Edit?handler=Save",e).then((function(a){a.data.success?(t.getList(),t.$notify({title:"Success",message:"更新成功！",type:"success",duration:2e3}),t.dialog.visible=!1,t.dialog.updateLoading=!1):t.$notify({title:"Faild",message:"更新失败："+a.data.msg,type:"success",duration:2e3})})).catch((function(a){t.dialog.updateLoading=!1}))}}))}}}),n=l,o=(e("478b"),e("2877")),d=Object(o["a"])(n,i,s,!1,null,"3b99ac7f",null);a["default"]=d.exports},de0a:function(t,a,e){}}]);